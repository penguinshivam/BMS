<form (ngSubmit)="onSubmit(bookForm)" class="max-w-xl mx-auto bg-slate-800 p-8 mb-8 rounded-lg shadow-xl" #bookForm="ngForm">
  <h1 class="text-center text-white font-extrabold text-2xl sm:text-3xl mb-3">
    {{ bookToEdit ? 'Edit Book' : 'Add New Book' }}
  </h1>

  <!-- Book Type -->
  <div class="form-group mb-3">
    <label for="bookType" class="block text-gray-300 text-sm font-semibold mb-2">
      Book Type:
    </label>
    <select
      [(ngModel)]="newBook.book_type"
      id="bookType"
      name="bookType"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #bookType="ngModel"
      required
    >
      <option value="printed">Printed Book</option>
      <option value="ebook">E-Book</option>
    </select>
    <div *ngIf="formSubmitted && bookType.invalid" class="text-red-500 text-sm mt-1">
      Book Type is required.
    </div>
  </div>

  <!-- Title -->
  <div class="form-group mb-3">
    <label for="title" class="block text-gray-300 text-sm font-semibold mb-2">
      Title:
    </label>
    <input
      [(ngModel)]="newBook.title"
      id="title"
      name="title"
      type="text"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #title="ngModel"
      required
    />
    <div *ngIf="formSubmitted && title.invalid" class="text-red-500 text-sm mt-1">
      Title is required.
    </div>
  </div>

  <!-- Author -->
  <div class="form-group mb-3">
    <label for="author" class="block text-gray-300 text-sm font-semibold mb-2">
      Author:
    </label>
    <input
      [(ngModel)]="newBook.author"
      id="author"
      name="author"
      type="text"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #author="ngModel"
      required
    />
    <div *ngIf="formSubmitted && author.invalid" class="text-red-500 text-sm mt-1">
      Author is required.
    </div>
  </div>

  <!-- ISBN -->
  <div class="form-group mb-3">
    <label for="isbn" class="block text-gray-300 text-sm font-semibold mb-2">
      ISBN:
    </label>
    <input
      [(ngModel)]="newBook.isbn"
      id="isbn"
      name="isbn"
      type="text"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #isbn="ngModel"
      required
    />
    <div *ngIf="formSubmitted && isbn.invalid" class="text-red-500 text-sm mt-1">
      ISBN is required.
    </div>
  </div>

  <!-- Price -->
  <div class="form-group mb-3">
    <label for="price" class="block text-gray-300 text-sm font-semibold mb-2">
      Price:
    </label>
    <input
      [(ngModel)]="newBook.price"
      id="price"
      name="price"
      type="text"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #price="ngModel"
      required
    />
    <div *ngIf="formSubmitted && price.invalid" class="text-red-500 text-sm mt-1">
      Price is required.
    </div>
  </div>

  <!-- Publication Date -->
  <div class="form-group mb-3">
    <label for="publicationDate" class="block text-gray-300 text-sm font-semibold mb-2">
      Publication Date:
    </label>
    <input
      [(ngModel)]="newBook.publication_date"
      id="publicationDate"
      name="publication_date"
      type="date"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #publicationDate="ngModel"
      required
    />
    <div *ngIf="formSubmitted && publicationDate.invalid" class="text-red-500 text-sm mt-1">
      Publication Date is required.
    </div>
  </div>

  <!-- Genre -->
  <div class="form-group mb-3">
    <label for="genre" class="block text-gray-300 text-sm font-semibold mb-2">
      Genre:
    </label>
    <select
      [(ngModel)]="newBook.genre"
      id="genre"
      name="genre"
      class="w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
      #genre="ngModel"
      required
    >
      <option value="" disabled>Select genre</option>
      <option value="fiction">Fiction</option>
      <option value="non-fiction">Non-Fiction</option>
      <option value="fantasy">Fantasy</option>
      <option value="biography">Biography</option>
      <option value="science">Science</option>
      <option value="history">History</option>
    </select>
    <div *ngIf="formSubmitted && genre.invalid" class="text-red-500 text-sm mt-1">
      Genre is required.
    </div>
  </div>

  <!-- Submit Button -->
  <button
    type="submit"
    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300"
  >
    {{ bookToEdit ? 'Update Book' : 'Add Book' }}
  </button>
  <!-- Ping Test -->
  <a
    href="http://127.0.0.1:3000/ping"
    class="block mt-8 text-center text-blue-400 hover:text-blue-600 font-medium transition duration-300"
  >
    Test Ping
  </a>
</form>


